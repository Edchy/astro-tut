<h1>Slanted Grid gallery using <code>clip-path</code></h1>

<div class="wrapper">
  <div>
    <img
      src="https://images.unsplash.com/photo-1527576539890-dfa815648363?crop=entropy&cs=srgb&fm=jpg&ixid=M3wzMjM4NDZ8MHwxfHJhbmRvbXx8fHx8fHx8fDE3MjU4OTI1NjV8&ixlib=rb-4.0.3&q=85"
    />
  </div>
  <div>
    <img
      src="https://images.unsplash.com/photo-1497334251732-c0eb68e26827?crop=entropy&cs=srgb&fm=jpg&ixid=M3wzMjM4NDZ8MHwxfHJhbmRvbXx8fHx8fHx8fDE3MjU4OTI1OTV8&ixlib=rb-4.0.3&q=85"
    />
  </div>
  <div>
    <img
      src="https://images.unsplash.com/photo-1501681506726-610246d81ade?crop=entropy&cs=srgb&fm=jpg&ixid=M3wzMjM4NDZ8MHwxfHJhbmRvbXx8fHx8fHx8fDE3MjU4OTI3NTV8&ixlib=rb-4.0.3&q=85"
    />
  </div>
  <div>
    <img
      src="https://images.unsplash.com/photo-1493397212122-2b85dda8106b?crop=entropy&cs=srgb&fm=jpg&ixid=M3wzMjM4NDZ8MHwxfHJhbmRvbXx8fHx8fHx8fDE3MjU4OTI1OTV8&ixlib=rb-4.0.3&q=85"
    />
  </div>
  <div>
    <img
      src="https://images.unsplash.com/photo-1548248823-ce16a73b6d49?crop=entropy&cs=srgb&fm=jpg&ixid=M3wzMjM4NDZ8MHwxfHJhbmRvbXx8fHx8fHx8fDE3MjU4OTI4MDJ8&ixlib=rb-4.0.3&q=85"
    />
  </div>
  <div>
    <img
      src="https://images.unsplash.com/photo-1518005020951-eccb494ad742?crop=entropy&cs=srgb&fm=jpg&ixid=M3wzMjM4NDZ8MHwxfHJhbmRvbXx8fHx8fHx8fDE3MjU4OTI0NzJ8&ixlib=rb-4.0.3&q=85"
    />
  </div>
  <div>
    <img
      src="https://images.unsplash.com/photo-1548318281-7da3085ce691?crop=entropy&cs=srgb&fm=jpg&ixid=M3wzMjM4NDZ8MHwxfHJhbmRvbXx8fHx8fHx8fDE3MjU4OTI0OTV8&ixlib=rb-4.0.3&q=85"
    />
  </div>
  <div>
    <img
      src="https://images.unsplash.com/photo-1523274158540-2aa98c15ec26?crop=entropy&cs=srgb&fm=jpg&ixid=M3wzMjM4NDZ8MHwxfHJhbmRvbXx8fHx8fHx8fDE3MjU4OTI1OTV8&ixlib=rb-4.0.3&q=85"
    />
  </div>
  <div>
    <img
      src="https://images.unsplash.com/photo-1532456745301-b2c645d8b80d?crop=entropy&cs=srgb&fm=jpg&ixid=M3wzMjM4NDZ8MHwxfHJhbmRvbXx8fHx8fHx8fDE3MjU5MDQ3Nzd8&ixlib=rb-4.0.3&q=85"
    />
  </div>
</div>

<style>
  .wrapper {
    --_gap: 0.5rem;
    --_offset: 10%;
    --_offset-1: calc(var(--_offset) * 1);
    --_offset-2: calc(var(--_offset) * 2);
    --_offset-3: calc(var(--_offset) * 3);
    --_offset-7: calc(var(--_offset) * 7);
    --_offset-8: calc(var(--_offset) * 8);
    --_offset-9: calc(var(--_offset) * 9);

    width: calc(100% - 4rem);
    max-width: 800px;
    margin: 2rem auto;
    color: white;
    font-family: system-ui;
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 0 var(--_gap);
    pointer-events: none;
    transform-style: preserve-3d;
  }
  .wrapper > div {
    position: relative;
    pointer-events: auto;
    aspect-ratio: 1;
    transition:
      scale 500ms ease-in-out,
      filter 500ms ease-in-out,
      clip-path 500ms ease-in-out 500ms;
    clip-path: polygon(var(--_clip-path));
    transform: translate3d(0, 0, 0);
  }
  .wrapper img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }
  .wrapper > div:nth-child(n + 4) {
    margin-top: calc(var(--_offset-3) * -1 + var(--_gap));
  }
  /* define clip-path custom properties */
  .wrapper > div:nth-child(1) {
    --_clip-path: 0 0, 100% 0, 100% var(--_offset-9), 0 100%;
  }
  .wrapper > div:nth-child(2) {
    --_clip-path: 0 0, 100% 0, 100% var(--_offset-8), 0 var(--_offset-9);
  }
  .wrapper > div:nth-child(3) {
    --_clip-path: 0 0, 100% 0, 100% var(--_offset-7), 0 var(--_offset-8);
  }

  .wrapper > div:nth-child(4) {
    --_clip-path: 0 var(--_offset-3), 100% var(--_offset-2),
      100% var(--_offset-8), 0 var(--_offset-7);
  }
  .wrapper > div:nth-child(5) {
    --_clip-path: 0 var(--_offset-2), 100% var(--_offset-1),
      100% var(--_offset-9), 0 var(--_offset-8);
  }
  .wrapper > div:nth-child(6) {
    --_clip-path: 0 var(--_offset-1), 100% 0%, 100% 100%, 0 var(--_offset-9);
  }

  .wrapper > div:nth-child(7) {
    --_clip-path: 0 0%, 100% var(--_offset-1), 100% 100%, 0 100%;
  }
  .wrapper > div:nth-child(8) {
    --_clip-path: 0 var(--_offset-1), 100% var(--_offset-2), 100% 100%, 0 100%;
  }
  .wrapper > div:nth-child(9) {
    --_clip-path: 0 var(--_offset-2), 100% var(--_offset-3), 100% 100%, 0 100%;
  }

  .wrapper > div:hover {
    transition:
      scale 500ms ease-in-out,
      filter 500ms ease-in-out,
      clip-path 500ms ease-in-out 500ms;
    scale: 1.3;
    --_clip-path: 0 0, 100% 0, 100% 100%, 0 100%;
    z-index: 100;
    opacity: 1;
  }

  .wrapper:has(:hover) > div:not(:hover) {
    filter: grayscale(1) blur(3px);
    opacity: 0.5;
    scale: 0.9;
  }
  .wrapper > div:not(:hover) {
    /*animation: zIndexHack 1000ms;*/
  }

  @keyframes zIndexHack {
    0%,
    100% {
      z-index: 100;
    }
  }

  /* general styling */
  :root {
    --clr-bg: #222;
    --clr-txt: #f5f5f5;
    --clr-primary: #f5f5f5;
    --clr-secondary: #38bdf8;
    --clr-button: #0369a1;
  }
  html {
    background-color: var(--clr-bg);
    font-family: system-ui;
    color: var(--clr-txt);
  }

  body {
    min-height: 100svh;
    color: var(--clr-primary);
    padding: 1rem;
  }

  h1 {
    font-size: 1.2rem;
    font-weight: 500;
    margin-block-end: 1rem;
    text-align: center;
  }
  code {
    color: var(--clr-secondary);
    border: 1px solid rgba(from var(--clr-secondary) r g b / 0.25);
    padding-inline: 0.25rem;
    border-radius: 5px;
  }
</style>
